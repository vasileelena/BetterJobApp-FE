<div class="modal-dialog" role="document" #modal>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="newJobModal">Post a new job listing</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModal()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="modal-body">
        <div class="form-group">
          <label for="jobTitle">Job title</label><br>
          <input
            id="jobTitle"
            formControlName="jobTitle"
            type="text"
            class="form-control">
          <span
            *ngIf="!formControls['jobTitle'].valid && formControls['jobTitle'].touched"
            class="text-danger">
          This field is required
          </span>
        </div>
        <div class="form-row">
          <div class="form-group col-md-8">
            <label for="industry">Industry</label><br>
            <select
              id="industry"
              formControlName="industry"
              class="custom-select">
              <option *ngFor="let industry of industryArray"
                      [value]="industry">{{industry.split('_').join(' ')}}</option>
            </select>
            <span
              *ngIf="!formControls['industry'].valid && formControls['industry'].touched"
              class="text-danger">
          This field is required
          </span>
          </div>
          <div class="form-group col-md-4">
            <label for="experience">Experience</label><br>
            <select
              id="experience"
              formControlName="experience"
              class="custom-select">
              <option *ngFor="let experience of experienceArray"
                      [value]="experience">{{experience}}</option>
            </select>
            <span
              *ngIf="!formControls['experience'].valid && formControls['experience'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="undefinedPeriod">Undefined period</label><br>
            <input
              id="undefinedPeriod"
              type="checkbox"
              formControlName="undefinedPeriod"
              class="form-check-input-input"
              checked="true"
              #undefinedPeriod>
          </div>
          <div *ngIf="!undefinedPeriod.checked"
               class="form-group col-md-6">
            <label for="period">Period (in months)</label>
            <input
              id="period"
              type="number"
              formControlName="period"
              class="form-control">
            <span
              *ngIf="!formControls['period'].valid && formControls['period'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-8">
            <label for="location">Location</label><br>
            <select
              id="location"
              formControlName="location"
              class="custom-select">
              <option *ngFor="let location of locationArray"
                      [value]="location">{{location.split('_').join(' ')}}</option>
            </select>
            <span
              *ngIf="!formControls['location'].valid && formControls['location'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
          <div class="form-group col-md-4" >
            <label for="program">Program</label><br>
            <select
              id="program"
              formControlName="program"
              class="custom-select">
              <option *ngFor="let program of programArray"
                      [value]="program">{{program.split('_').join(' ')}}</option>
            </select>
            <span
              *ngIf="!formControls['program'].valid && formControls['program'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
        </div>
        <label>Salary range</label>
        <div class="form-row">
          <div class="form-group col-md-3">
            <input
              id="salaryLowerRange"
              type="number"
              formControlName="salaryLowerRange"
              class="form-control">
            <span
              *ngIf="!formControls['salaryLowerRange'].valid && formControls['salaryLowerRange'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
          <div class="form-group col-md-3">
            <input
              id="salaryUpperRange"
              type="number"
              formControlName="salaryUpperRange"
              class="form-control">
            <span
              *ngIf="!formControls['salaryUpperRange'].valid && formControls['salaryUpperRange'].touched"
              class="text-danger">
            This field is required
          </span>
          </div>
          <div class="form-group col-md-2">
            <select
              id="currency"
              formControlName="currency"
              class="custom-select">
              <option value="0"> Ron </option>
              <option value="1"> Euro </option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="description">Description</label><br>
          <textarea
            id="description"
            rows="5"
            formControlName="description"
            class="form-control"></textarea>
          <span
            *ngIf="!formControls['description'].valid && formControls['description'].touched"
            class="text-danger">
            This field is required
          </span>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()"
        >Close</button>
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="!form.valid">
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
